<element name="caffo-blog">
    <script>
        var Z = {
            createdCallback: function() {
                //called when a custom element is created.

                fetch('/api/blog')
                    .then((response) => response.json())
                    .then((j) => {
                        this.innerHTML = "";
                        j.blog.forEach((blog) => {
                            this.insertAdjacentHTML("beforeend", `<h1><a href="/blog/${blog.url}">${blog.title}</a></h1>`);
                        });
                        this.insertAdjacentHTML("beforeend", `<a href="/blog" class="cta">more words &rarr;</a>`);
                    });

                //almost always required 
                this.appendChild(this.template.content.cloneNode(true));
            },

        };
    </script>

    <style type="text/scss">
        & {
            box-shadow: 0 0 33px rgba(0,0,0,0.3);
            background: #fff;
            text-align: left;
            padding: 28px;
            display: block;
        }
        h1 {
            font-family: "tisa-regular" !important;
            letter-spacing: -.6px;
            font-size: 28px;
            line-height: 1.58;
            color: #404c56;
            margin-bottom: 1em;
        }
        a {
            text-decoration: none;
        }
        h1 a {
            background: linear-gradient(to bottom, currentColor 50%, currentColor 50%);
            background-size: 1px 2px;
            background-repeat: repeat-x;
            /* background-position: 0 1.1667em; */
            background-position: 0 1.1em;
            text-shadow: -1px 0px 0 white,0px -1px 0 white,0px 0px 0 white,0px 1px 0 white,1px 0px 0 white;
        }
        h1 a:hover { background-position: 0 2em; }
        a.cta {
            background: #404c56;
            color: #fff;
            font-weight: bold;
            padding: 1em 2em;
            display: inline-block;
            float: right;
            text-transform: uppercase;
            text-decoration: none;
            border-radius: 2px;
            letter-spacing: 1px;
            box-shadow: 0 10px 10px -8px rgba(0,0,0,0.8);
        }
        a.cta:hover {
            box-shadow: 0 0 20px rgba(0,0,0,0.3);
            transform: translateY(-1px);
        }
        a.cta:active {
            box-shadow: 0 0 20px rgba(0,0,0,0.8);
            transform: translateY(1px);
        }

    </style>

    <template><em>(not loaded yet)</em></template>
</element>
<!-- vim:set fdm=marker foldlevel=0: -->
