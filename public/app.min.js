var API=function(t){return t.ROUTE="/api",t.fetchJSON=((n,e)=>{return fetch(t.ROUTE+n).then((t=>t.json())).then((t=>e(t)))}),t}(API||{}),App=(t=>{return t.ajaxify=(()=>{[].forEach.call(document.querySelectorAll("a[data-ajax]"),(n=>{n.addEventListener("click",(e=>{e.preventDefault(),history.pushState({state:"state"},"title",n.pathname),t.router(n.pathname)})),n.removeAttribute("data-ajax")}))}),t})(App||{}),App=(t=>{return t.bootstrap=(()=>{t.routes={"/":{template:"index",endpoint:"/"},"/test":{template:"release",endpoint:"/"}},window.addEventListener("load",(()=>{API.fetchJSON("/",(n=>{t.router(location.pathname)})),window.addEventListener("popstate",(()=>{t.router(location.pathname)}))}))}),t})(App||{}),App=(t=>{return t.router=(n=>{if(n in t.routes){var e=t.routes[n];API.fetchJSON(e.endpoint,(t=>{View.render(e.template,t)}))}else View.render("notfound")}),t})(App||{}),View=(t=>{return t.index=(t=>{return`<h1>hello ${t.hello}</h1><a href="/test" data-ajax>test</a>`}),t})(View||{}),View=(t=>{return t.release=(t=>{return`<h1>release</h1>`}),t})(View||{}),View=(t=>{return t.render=((n,e)=>{let o;o=n in t?t[n](e):`Missing template "${n}"`,document.body.innerHTML=o,App.ajaxify()}),t})(View||{});App.bootstrap();