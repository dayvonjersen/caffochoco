<!doctype html>
<html>
    <head>
        <style>
            @import "/reset.css";
            @import "/font/fonts.css";
            @import "/prism.css";


            h1, h2, h3, h4, h5, h6 {
                font-family: "tisa-regular";
                letter-spacing: -.6px;
                line-height: 1.58;
            }

            h2#blogdate {
                font-family: "futura-smallcaps-medium";
                font-variant: small-caps;
                font-feature-settings: "lnum";
                letter-spacing: 1.1px;
                font-size: 14px;
                line-height: 1.4;
                text-transform: lowercase;
            }

            html, body {
                height: 100%;
                margin: 0;
                padding: 0;

                font-family: "freightsans-book";
                font-size: 22px;
                line-height: 1.618;
            }

            html {font-size: 1em;}

            body {
                color: #727A78;
                width: 50%;
                margin: auto;
            }

            p {margin-bottom: 1.3em;}

            h1, h2, h3, h4 {
                margin: 1.414em 0 0.5em;
                font-weight: inherit;
                line-height: 1.2;
            }
            .blogblog h1,
            .blogblog h2,
            .blogblog h3,
            .blogblog h4 {
                border-bottom: .05em #D3DAD91A solid;
            }

            h1 {
                margin-top: 0;
                font-size: 2.441em;
            }

            h2 {font-size: 1.953em;}

            h3 {font-size: 1.563em;}

            h4 {font-size: 1.25em;}

            small {font-size: 0.8em;}
            ul {
                list-style-type: circle;
            }

            ol {
                list-style-type: lower-roman;
            }

            ul, ol {
                list-style-position: outside;
                margin-left: 1.5em;
                text-indent: .5em;
            }

            code, pre {
                font-family: "operator-book";
                font-size: 18px;
            }
            blockquote {
                padding: 0 0.8333em;
                border-left: 1px #d1d1d1 solid;
            }
            hr {
                border: 0;
                border-top: 1px #d1d1d1 solid;
            }

            body > header h1, 
            body > header h2 {
                margin: 0;
            }
            body > header {
                padding-top: 25vh;
                margin-bottom: 2.441em;
            }
            #blogblog {
                padding-bottom: 25vh;
            }

            a[href] { color: #72b0eb }
            a[href]:hover { text-decoration: none; }
        </style>
        <script>
            function readtime(articleSelector) {
                let articleElement = document.querySelector(articleSelector);
                return articleElement.textContent.split(/\W+/).length/260+.5|0;
            }
let fdate = (date) => {
    let diff = ( (new Date()).getTime() - date.getTime() ) / 1000;

    let unit = 'second';

    switch(true) {
        case (diff < 15):
            return 'just now!';
        case (diff > 31536000): diff /= 31536000; unit = 'year'; break;
        case (diff > 2592000): diff /= 2592000; unit = 'month'; break;
        case (diff > 604800): diff /= 604800; unit = 'week'; break;
        case (diff > 86400): diff /= 86400; unit = 'day'; break;
        case (diff > 3600): diff /= 3600; unit = 'hour'; break;
        case (diff > 60): diff /= 60; unit = 'minute'; break;
    }

    diff |= 0;
    return `${diff} ${unit}${diff == 1 ? '' : 's'} ago`;
};
window.addEventListener("DOMContentLoaded", () => {

    let blogdate = document.querySelector("#blogdate");
    blogdate.innerHTML = fdate(new Date(blogdate.textContent.trim()));
    blogdate.innerHTML += `<small>&nbsp;&bull;&nbsp;</small>${readtime("#blogblog")} min read`;
});
</script>

<title>{{.Title}}</title>
    </head>
    <body>
        <header>
            <h1>{{.Title}}</h1>
            <h2 id='blogdate' title='{{.Date.Format "Monday, January _2 2006 at 3:04PM MST"}}'>{{.Date.Format "2006-01-02T15:04:05Z07:00" }}</h2>
        </header>
        <div id='blogblog'>
            {{.Blog}}
        </div>
        <script src="/prism.js"></script>
    </body>
</html>
